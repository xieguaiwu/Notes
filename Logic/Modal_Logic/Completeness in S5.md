---
tags:
  - Kripke
  - ModalLogic
  - 证明
  - 论文
title: Completeness in S5
created: 2025-08-11T06:04:59.444Z
modified: 2025-08-11T06:09:18.876Z
---
[[Modal Logic]]
[[Kripke]]
# Completeness in S5

### **定理1：语义表封闭性 ⇔ 语义蕴涵**  
#### **表述**  
$B$ 被 $A_1, \dots, A_n$ **语义蕴涵**（即 $A_1 \land \dots \land A_n \supset B$ 普遍有效）当且仅当从 $A_1, \dots, A_n$（左列）和 $B$（右列）开始的**语义表构造封闭**。

---

#### **证明分两部分**  
##### **引理1：若构造封闭，则语义蕴涵成立**  
1. **反证假设**：  
   - 设语义蕴涵不成立 → 存在非空域 $D$ 和模型 $(G, K)$，使 $A_1, \dots, A_n$ 在 $G$ 中为真，但 $B$ 在 $G$ 中为假。  
2. **归纳保持反模型**：  
   - **基础**：初始阶段，$A_i$ 在左列（$G$ 中真），$B$ 在右列（$G$ 中假）。  
   - **规则应用**：证明每条语义表规则保持反模型存在性：  
     - **例：$\Upsilon_r$（右列 $\square A$）**：  
       - 若 $\square A$ 在 $G$ 中为假 → 存在某 $H \in K$ 使 $A$ 在 $H$ 中为假。  
       - $\Upsilon_r$ 生成新辅助表（对应 $H$），其右列为 $A$ → 该表继承 $H$ 的赋值。  
     - **例：$\Pi_r$（右列 $\forall x A(x)$）**：  
       - $\forall x A(x)$ 在 $G$ 中假 → 存在 $d \in D$ 使 $A(d)$ 假。  
       - $\Pi_r$ 引入新变量 $b$（对应 $d$），在右列加 $A(b)$ → 赋值匹配。  
3. **封闭导致矛盾**：  
   - 因构造封闭，某表出现：  
     - **情形1**：公式 $C$ 在左右列共存 → 但反模型中左列公式真、右列公式假，矛盾！  
     - **情形2**：右列有 $a=a$ → 但 $a=a$ 永真，赋值不能为假，矛盾！  
4. **结论**：反模型不存在 → 语义蕴涵成立。

##### **引理2：若构造不封闭，则语义蕴涵不成立**  
1. **选取非封闭备选集**：  
   - 构造不封闭 → 存在一个**备选集合**（alternative set）中所有表均未封闭。  
2. **构造反模型 $(G, K)$**：  
   - **域 $D$**：= 该集合中所有自由变量（未被 $\Pi$ 规则替换的）。  
   - **赋值定义**：  
     - 每个表对应一个世界 $H \in K$。  
     - $G$ 为主表对应的赋值。  
     - **谓词赋值**：$H$ 将谓词 $P^n$ 赋值为 $\{(x_1,\dots,x_n) \mid P^n(x_1,\dots,x_n)\text{ 在 }H\text{ 表左列}\}$。  
3. **归纳证明真值匹配**：  
   - **目标**：表中左（右）列公式在对应 $H$ 中为真（假）。  
   - **原子公式**：由赋值定义直接满足。  
   - **模态公式 $\square A$**：  
     - **左列 $\square A$**：$\Upsilon_l$ 规则保证 $A$ 在所有表左列 → 由归纳假设，$A$ 在所有 $H \in K$ 中真 → $\square A$ 在 $H$ 中真。  
     - **右列 $\square A$**：$\Upsilon_r$ 生成辅助表使 $A$ 在其右列 → 存在某 $H' \in K$ 使 $A$ 在 $H'$ 中假 → $\square A$ 在 $H$ 中假。  
   - **量词 $\forall x A(x)$**：  
     - **左列 $\forall x A(x)$**：$\Pi_l$ 规则对任意自由变量 $a$ 加 $A(a)$ 到左列 → $A(a)$ 在所有 $a$ 的赋值下真 → $\forall x A(x)$ 真。  
     - **右列 $\forall x A(x)$**：$\Pi_r$ 引入新变量 $b$ 使 $A(b)$ 在右列 → 存在赋值使 $A(b)$ 假 → $\forall x A(x)$ 假。  
4. **反模型验证**：  
   - 主表中 $A_1, \dots, A_n$ 在左列 → $G$ 中为真；$B$ 在右列 → $G$ 中为假。  
   → $A_1 \land \dots \land A_n \supset B$ 在 $(G, K)$ 中无效。  

---

### **定理2：可满足性 ⇒ 有限/可数模型**  
#### **表述**  
若公式在**某非空域可满足**，则存在**有限或可数模型**（$D$ 和 $K$ 均有限或可数）使其有效。

#### **证明**  
1. 由**引理2的构造**：  
   - $D$ = 语义表中的自由变量集 → 因构造步有限或可数，故 $D$ 有限或可数。  
   - $K$ = 语义表集合 → 因生成规则有限（如 $\Upsilon_r$ 生成辅助表），故 $K$ 有限或可数。  
2. **示例**：  
   - 若构造在 $n$ 步后停止 → $D$ 和 $K$ 均有限。  
   - 若构造无限但可数（如无限次应用 $\Pi_r$）→ $D$ 和 $K$ 可数无限。

---

### **定理3：无等词公式 ⇒ 可数模型**  
#### **表述**  
若**不含等词**的公式可满足，则存在**可数域模型**（$D$ 可数，$K$ 有限或可数）。

#### **证明依赖引理3**  
##### **引理3：模型可扩张性**  
- **前提**：设 $A$ 无等词，且在域 $D$ 的模型 $(G, K)$ 中有效。  
- **结论**：对任意扩域 $D' \supset D$，存在模型 $(G', K')$ 在 $D'$ 中有效，且 $|K'| = |K|$。  
- **构造**：  
  1. 固定 $a \in D$。  
  2. 对每个 $H \in K$，定义 $H'$：  
     - 个体变量赋值不变（因 $D \subset D'$）。  
     - 谓词 $P^n$ 赋值扩展为：  
       $$
       \psi' = \psi \cup \left\{ (d_1,\dots,d_n) \mid d_i \in D', \text{ 且将 } d_i \notin D \text{ 替换为 } a \text{ 后 } (d_1',\dots,d_n') \in \psi \right\}
       $$  
     > **例**：设 $D = \{a\}$, $D' = \{a,b\}$，原 $\psi = \{(a,a)\}$ → 扩展后 $\psi' = \{(a,a), (a,b), (b,a), (b,b)\}$。  
  3. 令 $K' = \{H' \mid H \in K\}$，$G'$ 为 $G$ 的扩展。  
- **有效性**：因 $A$ 无等词，无法区分 $D' \setminus D$ 中的元素与 $a$ → 真值不变。

##### **定理3证明**  
1. 由定理2，存在有限或可数模型 $(G, K)$ 在域 $D_0$ 中使 $A$ 有效。  
2. 若 $D_0$ 有限，取可数扩域 $D' \supset D_0$，由引理3得可数模型 $(G', K')$。  

---

### **定理5：完备性定理**  
#### **表述**  
若 $A$ **普遍有效**，则 $\vdash A$ 在 **S5\*⁻** 中可证。

#### **证明**  
1. **由定理1**：  
   - $A$ 普遍有效 → 从"右列 $\sim A$"开始的语义表构造封闭。  
2. **特征公式（Characteristic Formula）**：  
   - 设 $B_m$ 为第 $m$ 阶段的特征公式（形式见下文）。  
   - **引理4**：$\vdash (\exists \vec{a}) \sim A \supset B_m$ 在 **S5\*⁻** 中可证（$B_m$ 为第 $m$ 阶段特征公式）。  
     - **证明**：对语义表规则逐条验证：  
       - **例：规则 $\Upsilon_r$**  
         - 设某备选集合特征公式为 $(\exists \vec{a})(C \land \bigtriangledown D)$，其中 $D$ 含 $\square A$ 在右列。  
         - 应用 $\Upsilon_r$ 后新增辅助表（特征公式为 $\sim A$），新特征公式为 $(\exists \vec{a})(C \land \bigtriangledown (D \land \sim A))$。  
         - **需证**：$\vdash (\exists \vec{a})(C \land \bigtriangledown D) \supset (\exists \vec{a})(C \land \bigtriangledown (D \land \sim A))$  
         - **依据**：在 **S5\*⁻** 中可证 $\bigtriangledown D \supset \bigtriangledown (D \land \sim A)$（由 $\square A$ 在右列导出的新表内容）。  
3. **封闭阶段的特征公式**：  
   - 设第 $k$ 阶段首次封闭，特征公式 $B_k = \bigvee_i C_i$（每个 $C_i$ 对应一个备选集合）。  
   - 因封闭，每个 $C_i$ 形如 $D_0 \land \bigtriangledown D_1 \land \dots \land \bigtriangledown D_m$，且存在某 $D_j$ 对应的表封闭。  
4. **封闭表的特征公式可证假**：  
   - **情形1**：表中有公式 $E$ 在左右列 → $D_j$ 含 $E \land \sim E$ → $\vdash \sim D_j$。  
   - **情形2**：右列有 $a=a$ → $D_j$ 含 $\sim (a=a)$ → $\vdash \sim D_j$。  
   - 由 **S5\*⁻** 的公理，$\vdash \sim D_j \supset \sim C_i$。  
5. **最终结论**：  
   - $\vdash \sim B_k$（因每个 $C_i$ 可证假）。  
   - 由引理4：$\vdash (\exists \vec{a}) \sim A \supset B_k$  
   → $\vdash (\exists \vec{a}) \sim A \supset \bot$ → $\vdash \sim (\exists \vec{a}) \sim A$ → $\vdash \forall \vec{a} A$ → 由量词规则得 $\vdash A$。  

---

### **定理7：可证性 ⇔ 普遍有效性**  
#### **表述**  
$\vdash A$ 在 **S5\*⁻** 中当且仅当 $A$ 普遍有效。

#### **证明**  
- **定理5**：普遍有效 ⇒ 可证。  
- **定理6（一致性）**：可证 ⇒ 普遍有效：  
  1. **公理验证**：  
     - **公理1**：$\square A \supset A$  
       - 若在某模型 $(G, K)$ 中 $\square A$ 在 $G$ 中真 → $A$ 在所有 $K$ 中真 → 特别地，$A$ 在 $G$ 中真。  
     - **公理2**：$\sim \square A \supset \square \sim \square A$  
       - 若 $\sim \square A$ 在 $G$ 中真 → 存在 $H \in K$ 使 $A$ 在 $H$ 中假。  
       - 对任意 $H' \in K$，需证 $\sim \square A$ 在 $H'$ 中真：即存在某世界（如 $H$）使 $A$ 假 → 成立。  
  2. **规则验证**：  
     - **R1（分离）**：若 $A$ 和 $A \supset B$ 普遍有效，则对所有模型和世界，$A$ 真且 $A \supset B$ 真 → $B$ 真。  
     - **R2（必然化）**：若 $A$ 普遍有效 → $A$ 在所有模型和世界中真 → $\square A$ 在任意 $G$ 中真。  

---

### **定理8：命题S5的完备性与真值表**  
#### **表述**  
$\vdash A$ 在 **S5**（命题部分）中当且仅当 $A$ 是 **S5 重言式**（tautology）。

#### **证明**  
1. **定义 S5 真值表**：  
   - 一个 **S5 表** 是经典真值表的子集（省略某些行）。  
   - $\square A$ **在行 $w$ 赋真** 当且仅当 $A$ 在**所有行**中为真。  
2. **等价性证明**：  
   - **必要性**（$\vdash A \Rightarrow A$ 是重言式）：  
     - 公理和规则保持重言性（类似定理6）。  
   - **充分性**（$A$ 是重言式 $\Rightarrow \vdash A$）：  
     - 若 $A$ 非重言式 → 存在某表某行 $w$ 使 $A$ 假。  
     - 构造反模型：  
       - $W$ = 该表的所有行，$G = w$。  
       - 赋值：命题变量在行 $w_i$ 中取值即其真值。  
     → $A$ 在 $(G, W)$ 中假 → 非普遍有效 → 由定理7，$\nvdash A$。  

---

### **总结：证明策略精髓**  
1. **语义表（Semantic Tableaux）**：  
   - 将逻辑蕴涵转化为**组合构造问题**，通过规则生成可能世界的显式表示。  
2. **封闭性（Closure）**：  
   - 等价于**不存在反模型**，建立语法与语义的桥梁。  
3. **特征公式（Characteristic Formula）**：  
   - 将动态的语义表构造**编码为静态逻辑公式**，使归纳证明成为可能。  
4. **模型构造（Model Construction）**：  
   - 从非封闭表直接**合成反例模型**，体现"框架即反模型"的思想。  

> 克里普克的证明是**构造性**的：不仅证明完备性，还给出了从语义失效到反模型、从语义有效到形式证明的**具体转换算法**，为模态逻辑的自动化证明奠定基础。